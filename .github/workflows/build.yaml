name: Build Test

on:
    pull_request: {}
    push: {}

jobs:

  build:
    name: Build
    runs-on: ubuntu-latest
    steps:
      
    - uses: actions/checkout@v4
    - uses: actions/setup-go@v5
      with:
        go-version-file: go.mod

    - name: Build Test
      run: |
        touch spec.md  # Ensure its timestamp is newer than any generated files
        make
        git diff --exit-code || (echo "Generated files are out of date. Please run 'make' and commit the changes." && exit 1)
