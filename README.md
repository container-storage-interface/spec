# Container Storage Interface (CSI) Specification [![build status](https://travis-ci.org/container-storage-interface/spec.svg?branch=master)](https://travis-ci.org/container-storage-interface/spec)

![CSI Logo](logo.png)

This project contains the CSI [specification](spec.md).
Please see the [build reference](#build-reference) section for information on how to generate the protobuf and build for each language.

## Build Reference.

[CMake](https://cmake.org/cmake) is required for building.

### Generate Protobuf

```bash
$ mkdir build
$ cd build
$ cmake ..
$ make proto
```

In the above example, the protobuf file is generated by parsing `spec.md`. `csi.proto` will be generated in the build directory.

### Generate Go Source

The following command generates the Go source file from the protobuf:

```bash
$ mkdir build
$ cd build
$ cmake ..
$ make go_source
```

`csi.pb.go` will be generated in the build directory.

### Generate C++ headers and build C++ library

The following command generates C++ headers from the protobuf and build the C++ library:

```bash
$ mkdir build
$ cd build
$ cmake -DCMAKE_INSTALL_PREFIX=<prefix> ..
$ make
$ make install
```

The C++ headers and the library will be installed at `<prefix>`.
